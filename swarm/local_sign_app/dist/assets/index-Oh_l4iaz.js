(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const d=async()=>{const n=`${window.location.origin}/params`,e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},c=async n=>{const e=`${window.location.origin}/done`,r=new URLSearchParams({txHash:n}),i=await fetch(e+"?"+r.toString(),{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);await i.json()},u=async n=>{try{const e=await n.provider.request({method:"eth_requestAccounts"}),{to:r,value:i,data:t,chainId:o}=await d(),s={to:r,value:i,data:t,chainId:o,from:e[0]};await n.provider.request({method:"eth_sendTransaction",params:[s]}).then(a=>{c(a)}).catch(a=>{c("rejected"),console.error(a)})}catch(e){console.error("Failed to connect to provider:",e)}};function l(n){window.addEventListener("eip6963:announceProvider",e=>{const r=document.createElement("button");r.innerHTML=`
        <img src="${e.detail.info.icon}" alt="${e.detail.info.name}" />
        <div>${e.detail.info.name}</div>`,r.onclick=()=>u(e.detail),n.appendChild(r)}),window.dispatchEvent(new Event("eip6963:requestProvider"))}document.querySelector("#app").innerHTML=`
  <div>
    <h1>Validator Swarm Local Signing Interface</h1>
    <div id="providerButtons"></div>
  </div>
`;l(document.querySelector("#providerButtons"));
